# Test configuration - overrides main application.properties during tests

# Disable Liquibase for tests
spring.liquibase.enabled=false

# Use H2 in-memory database for tests
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA configuration for H2
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Fixer.io API (test values)
exchange.provider.fixer.api-key=test-api-key
exchange.provider.fixer.base-url=http://localhost:8091
exchange.provider.fixer.priority=100

# ExchangeRatesAPI.io (test values)
exchange.provider.exchangeratesapi.api-key=test-api-key
exchange.provider.exchangeratesapi.base-url=http://localhost:8092
exchange.provider.exchangeratesapi.priority=100

# Mock Provider 1
mock.provider1.enabled=true
mock.provider1.base-url=http://localhost:8080
mock.provider1.priority=50

# Mock Provider 2
mock.provider2.enabled=true
mock.provider2.base-url=http://localhost:8080
mock.provider2.priority=50

# HTTP Client
http.client.connect-timeout=5000
http.client.read-timeout=10000
http.client.retry.max-attempts=3
http.client.retry.backoff-ms=1000

# Reduce logging noise during tests
logging.level.root=WARN
logging.level.com.example.aidemo1=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN
